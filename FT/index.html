<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>FT</title>

	<!-- INCLUDING JQUERY-->
	<script src="https://code.jquery.com/jquery-3.5.1.js">
	</script>
</head>

<body>
	<div id="div_id"></div>
	<script>
		async function loadFT(){
			const response = await fetch('FT.json');
			const dataArray = await response.json();
			console.log(dataArray);
			
			function findSpouseById(spouseId){
				alert('In Function');
				const idToFind = spouseId;
				alert('Print Spouse ID: '+idToFind);
				const foundObject = dataArray.find(obj => obj.id === idToFind);
				alert('Found Object? > '+foundObject);
				if (foundObject) {
					const spouseFirstName = foundObject.person_fname;
					alert('Spouse FN: '+spouseFirstName);
					const spouseLastName = foundObject.person_lname;
					alert('Spouse LN: 'spouseLastName);
					const spouseFullName = spouseFirstName+' '+spouseLastName;
					alert('Spouse FLN: 'spouseFullName);
					return(spouseFullName);
				}else{alert('else');}
			}
		  
			
			$.each(dataArray, function (key, value) { 
				$('#div_id').append(value.person_fname+' '+value.person_lname+' married with '+findSpouseById(value.person_spouses));
				$('#div_id').append('<br><br>');
			});
		}
		loadFT();
	</script>
</body>

</html>
